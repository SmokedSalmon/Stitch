# Webpack Config

To enable shared moduled ability, Webpack building system is what we expected.

Here we are going to highlight some Key configurations we required you to follow.

## Entry point

In Webpack default config, an Entry is needed as building entry, but in Stitch, we require the entry to follow ModuleFederation's pattern in the config.

Example:

```js
// this is the main entry we need you to config
const moduleFederationPlugin = new ModuleFederationPlugin({
  name: "yourApp",
  library: { type: "var", name: "yourApp" },
  filename: "remoteEntry.js",
  exposes: {
    "RemoteApp": './src/MFELib',
    "services": './src/MFELib'
  }
});
```

## Loader

In most of our use cases, using the same Webpack config is acceptable.Â  so all the loaders, Plugins you put it in should work at the same expectation.

Example:

```js
// we can add our loader base on what we need here
const rules = [
  {
    test: /\.css$/,
    use: [
      "style-loader",
      {
        loader: "css-loader",
        options: {
          importLoaders: 1,
          sourceMap: true,
        },
      },
      "postcss-loader",
    ],
  },
  {
    test: /\.less$/,
    use: [
      {
        loader: "style-loader",
      },
      {
        loader: "css-loader",
        options: {
          sourceMap: true,
        },
      },
      {
        loader: "less-loader",
      },
    ],
  },
  {
    test: /\.(js|jsx)$/,
    exclude: /(node_modules|bower_components)/,
    use: {
      loader: "babel-loader",
      options: {
        presets: ["@babel/preset-react"],
      },
    },
  },
];
```

## Resource

What you build in by the Webpack, will output in a particular folder you pointing to. They will be all managed by the entry.js

Example:

```js
// same thing as webpack config type
output: {
  filename: "[name]_[chunkhash].js",
},

```

## Production

Please note that we can do the same optimization in Webpack Config.

Example:

```js
const config = require("./webpack.config.js");

// webpack will compress all the files in production mode
module.exports = {
  ...config,
  mode: "production",
}
```

[Full example](https://alm-github.systems.uk.hsbc/Net-UI/ws_credit_and_lending/blob/master/webpack.config.js)
